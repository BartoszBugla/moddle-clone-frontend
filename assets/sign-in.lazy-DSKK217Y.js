import{c as d,u as x,i as p,a as g,R as r,b as h,j as s,C as j,d as f,e as w,f as C,g as N,h as b,B as F,L as S}from"./index-Bjj7LueE.js";import{z as n,u as v,t as y}from"./index-BAjYXf1U.js";import{F as R,a as i}from"./form-input-CiYCJdV4.js";const A=d("/_auth/sign-in")({component:L}),I=n.object({username:n.string().min(1).max(40),password:n.string().min(8).max(40)});function L(){const t=x(),c=p(e=>e.signIn),{mutateAsync:l,error:a}=v({mutationFn:g.user.loginCreate,onSuccess:()=>{t({to:r.fullPath})}}),o=h({defaultValues:{username:"",password:""},resolver:y(I)}),m=async e=>{const u=await l(e);c({accessToken:u}),t({to:r.fullPath})};return s.jsx(R,{...o,onSubmit:o.handleSubmit(m),children:s.jsxs(j,{className:"w-full max-w-sm",children:[s.jsxs(f,{children:[s.jsx(w,{className:"text-2xl",children:"Login"}),s.jsx(C,{children:"Enter your username below to login to your account."})]}),s.jsxs(N,{className:"grid gap-4",children:[s.jsx(i,{label:"Username",name:"username"}),s.jsx(i,{label:"Password",name:"password",type:"password"})]}),s.jsx("p",{className:"text-sm text-destructive p-6 pt-0",children:a==null?void 0:a.message}),s.jsxs(b,{className:"flex flex-col gap-2",children:[s.jsx(F,{className:"w-full",children:"Sign in"}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",s.jsx(S,{to:"/sign-up",className:"underline",children:"Sign up"})]})]})]})})}export{A as Route,L as SignIn};
