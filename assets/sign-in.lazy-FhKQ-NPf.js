import{c as d,u as x,i as p,a as g,R as r,b as h,j as s,C as j,d as f,e as w,f as C,g as N,h as F,B as S,L as b}from"./index-Cq4lOYSu.js";import{z as t,u as v,t as y}from"./index-B1p8qy30.js";import{F as R,a as i}from"./form-input-CqgZyaRf.js";const A=d("/_auth/sign-in")({component:L}),I=t.object({username:t.string().min(1).max(40),password:t.string().min(8).max(40)});function L(){const n=x(),c=p(e=>e.signIn),{mutateAsync:m,error:a}=v({mutationFn:g.user.loginCreate,onSuccess:()=>{n({to:r.fullPath})}}),o=h({defaultValues:{username:"",password:""},resolver:y(I)}),u=async e=>{const l=await m(e);c({accessToken:l}),n({to:r.fullPath})};return s.jsx(R,{...o,onSubmit:o.handleSubmit(u),children:s.jsxs(j,{className:"w-full max-w-sm",children:[s.jsxs(f,{children:[s.jsx(w,{className:"text-2xl",children:"Login"}),s.jsx(C,{children:"Enter your username below to login to your account."})]}),s.jsxs(N,{className:"grid gap-4",children:[s.jsx(i,{name:"username"}),s.jsx(i,{name:"password",type:"password"})]}),s.jsx("p",{className:"text-sm text-destructive p-6 pt-0",children:a==null?void 0:a.message}),s.jsxs(F,{className:"flex flex-col gap-2",children:[s.jsx(S,{className:"w-full",children:"Sign in"}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",s.jsx(b,{to:"/sign-up",className:"underline",children:"Sign up"})]})]})]})})}export{A as Route,L as SignIn};
