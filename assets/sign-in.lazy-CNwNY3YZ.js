import{c as x,u as p,b as g,a as h,d as j,e as f,R as o,f as w,j as s,F as C,C as N,g as b,h as F,i as S,k as v,l as i,m as y,B as R,L as k}from"./index-CRQIH0b2.js";import{z as a,t as I}from"./index-CR9fnBmN.js";const z=x("/_auth/sign-in")({component:P}),L=a.object({username:a.string().min(1).max(40),password:a.string().min(8).max(40)});function P(){const n=p(),c=g(e=>e.signIn),l=h(),{mutateAsync:m,error:t}=j({mutationFn:f.user.loginCreate,onSuccess:()=>{n({to:o.fullPath})}}),r=w({defaultValues:{username:"",password:""},resolver:I(L)}),u=async e=>{const d=await m(e);c({accessToken:d}),n({to:o.fullPath})};return s.jsx(C,{...r,onSubmit:r.handleSubmit(u),children:s.jsxs(N,{className:"w-full max-w-sm",children:[s.jsxs(b,{children:[s.jsx(F,{className:"text-2xl",children:"Login"}),s.jsx(S,{children:"Enter your username below to login to your account."})]}),s.jsxs(v,{className:"grid gap-4",children:[s.jsx(i,{label:"Username",name:"username"}),s.jsx(i,{label:"Password",name:"password",type:"password"})]}),t&&s.jsx("p",{className:"text-sm text-destructive p-6 pt-0",children:l(t).message}),s.jsxs(y,{className:"flex flex-col gap-2",children:[s.jsx(R,{className:"w-full",children:"Sign in"}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?Â ",s.jsx(k,{to:"/sign-up",className:"underline",children:"Sign up"})]})]})]})})}export{z as Route,P as SignIn};
