import{l as x,u as p,n as g,m as h,o as j,p as f,R as o,q as w,j as s,F as C,C as N,s as b,t as v,v as F,w as S,x as i,z as y,B as R,L as I}from"./index-B_I-yeN2.js";import{z as a,t as L}from"./index-BanDWWAH.js";const H=x("/_auth/sign-in")({component:k}),P=a.object({username:a.string().min(1).max(40),password:a.string().min(8).max(40)});function k(){const n=p(),l=g(e=>e.signIn),c=h(),{mutateAsync:m,error:t}=j({mutationFn:f.user.loginCreate,onSuccess:()=>{n({to:o.fullPath})}}),r=w({defaultValues:{username:"",password:""},resolver:L(P)}),u=async e=>{const d=await m(e);l({accessToken:d}),n({to:o.fullPath})};return s.jsx(C,{...r,onSubmit:r.handleSubmit(u),children:s.jsxs(N,{className:"w-full max-w-sm",children:[s.jsxs(b,{children:[s.jsx(v,{className:"text-2xl",children:"Login"}),s.jsx(F,{children:"Enter your username below to login to your account."})]}),s.jsxs(S,{className:"grid gap-4",children:[s.jsx(i,{label:"Username",name:"username"}),s.jsx(i,{label:"Password",name:"password",type:"password"})]}),t&&s.jsx("p",{className:"text-sm text-destructive p-6 pt-0",children:c(t).message}),s.jsxs(y,{className:"flex flex-col gap-2",children:[s.jsx(R,{className:"w-full",children:"Sign in"}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?Â ",s.jsx(I,{to:"/sign-up",className:"underline",children:"Sign up"})]})]})]})})}export{H as Route,k as SignIn};
