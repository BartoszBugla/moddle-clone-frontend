import{l as x,z as a,u as p,n as g,m as h,o as j,p as w,R as o,q as f,j as s,F as C,C as N,s as b,t as v,v as F,w as S,x as i,A as y,B as R,L as I,D as L}from"./index-BR8g-1Hw.js";const D=x("/_auth/sign-in")({component:k}),P=a.object({username:a.string().min(1).max(40),password:a.string().min(8).max(40)});function k(){const n=p(),l=g(e=>e.signIn),c=h(),{mutateAsync:u,error:t}=j({mutationFn:w.user.loginCreate,onSuccess:()=>{n({to:o.fullPath})}}),r=f({defaultValues:{username:"",password:""},resolver:L(P)}),m=async e=>{const d=await u(e);l({accessToken:d}),n({to:o.fullPath})};return s.jsx(C,{...r,onSubmit:r.handleSubmit(m),children:s.jsxs(N,{className:"w-full max-w-sm",children:[s.jsxs(b,{children:[s.jsx(v,{className:"text-2xl",children:"Login"}),s.jsx(F,{children:"Enter your username below to login to your account."})]}),s.jsxs(S,{className:"grid gap-4",children:[s.jsx(i,{label:"Username",name:"username"}),s.jsx(i,{label:"Password",name:"password",type:"password"})]}),t&&s.jsx("p",{className:"text-sm text-destructive p-6 pt-0",children:c(t).message}),s.jsxs(y,{className:"flex flex-col gap-2",children:[s.jsx(R,{className:"w-full",children:"Sign in"}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?Â ",s.jsx(I,{to:"/sign-up",className:"underline",children:"Sign up"})]})]})]})})}export{D as Route,k as SignIn};
